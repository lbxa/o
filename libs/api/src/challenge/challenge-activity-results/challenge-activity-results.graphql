"""
Results for a challenge activity are recorded per user per activity.
In the future we may want to support multiple activities per challenge.

There can be multiple results per activity per user.
"""
type ChallengeActivityResult implements Node & Timestamps {
  id: ID!
  user: User!
  activity: ChallengeActivity!
  result: Int!
  createdAt: DateTime
  updatedAt: DateTime
}

input ChallengeActivityResultCreateInput {
  challengeId: ID!
  activityId: ID!
  userId: ID!
  result: Int!
}

extend type Challenge {
  activityTopResults(challengeId: ID): [ChallengeActivityResult!]
  activityTopMovers(challengeId: ID): [ChallengeActivityResult!]
}

type Query {
  challengeActivityResults(challengeId: ID!): [ChallengeActivityResult!]
  challengeActivityTopResults(challengeId: ID!): [ChallengeActivityResult!]
}

type Mutation {
  challengeActivityResultCreate(
    challengeActivityResultCreateInput: ChallengeActivityResultCreateInput!
  ): ChallengeActivityResult!
}