version: 1
applications:
  - frontend:
      name: 'onex-landing'
      appRoot: apps/onex-landing
      phases:
        preBuild:
          commands:
            - npm install -g pnpm
            - npx turbo prune @o/onex-landing
        build:
          commands: 
            - cd out
            - pnpm i --frozen-lockfile
            - pnpm turbo run build --filter="@o/onex-landing..."
      artifacts:
        baseDirectory: out/apps/onex-landing/dist
        files:
          - '**/*'
      cache:
        paths:
          - 'node_modules/**/*'
          - 'apps/onex-landing/.turbo/*'
      buildPath: /
